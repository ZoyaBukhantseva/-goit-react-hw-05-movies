"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[284],{642:function(e,t,n){n.d(t,{IR:function(){return l},Jn:function(){return m},LP:function(){return o},M1:function(){return _},Q$:function(){return h},t2:function(){return d},tx:function(){return x}});var r=n(861),a=n(757),i=n.n(a),s=n(912),c="cc6dd9af32d8d8ae276f4cac0bcc6f4a";function o(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(c)).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(c,"&language=en-US&query=").concat(t,"&page=1&include_adult=false")).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return"https://image.tmdb.org/t/p/w".concat(t,"/").concat(e)}function h(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(c,"&language=en-US")).then((function(e){return e.data.genres}));case 2:return n=e.sent,e.abrupt("return",n.reduce((function(e,n){return t.includes(n.id)&&e.push(n.name),e}),[]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(c,"&language=en-US&page=1")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},284:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(439),a={movieCard:"moviesdetails_movieCard__QGcFR",mainInfo:"moviesdetails_mainInfo__DaqaG",leftInfo:"moviesdetails_leftInfo__WHLQU",poster:"moviesdetails_poster__GfH43",title:"moviesdetails_title__22FBQ",category:"moviesdetails_category__mvHBN",overview:"moviesdetails_overview__GqI2+",genresList:"moviesdetails_genresList__pRql+",aditional:"moviesdetails_aditional__CIQ0K",aditionalul:"moviesdetails_aditionalul__c8OdW",aditionallink:"moviesdetails_aditionallink__7FmJD",movieBackButton:"moviesdetails_movieBackButton__GyLqR"},i=n(642),s=n(87),c=n(689),o=n(791),u=n(184),l=function(){var e,t,n=(0,c.TH)(),l=(0,c.UO)().id,p=(0,o.useState)([]),d=(0,r.Z)(p,2),f=d[0],m=d[1],h=(0,o.useState)([]),v=(0,r.Z)(h,2),_=v[0],g=v[1],x=(0,o.useState)(""),w=(0,r.Z)(x,2),k=w[0],y=w[1],j=(0,o.useState)(""),b=(0,r.Z)(j,2),N=b[0],Z=b[1];(0,o.useEffect)((function(){n.state&&Z(n.state.from)}),[n.state]),(0,o.useEffect)((function(){(0,i.t2)(l).then((function(e){m(e),y(e.poster_path?(0,i.Jn)(e.poster_path,300):"https://dummyimage.com/640x480/2a2a2a/ffffff&text=Product+image+placeholder");var t=e.genres.map((function(e){return e.id}));(0,i.Q$)(t).then((function(e){return g(e)})).catch((function(){return alert("Some problems with API")}))})).catch((function(){return alert("Some problems with API")}))}),[l]);var I=null!==(e=null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:N;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(s.rU,{to:I,className:a.movieBackButton,children:["<-"," Go Back"]}),(0,u.jsxs)("div",{className:a.movieCard,children:[(0,u.jsxs)("div",{className:a.mainInfo,children:[(0,u.jsx)("img",{src:k,alt:f.title,className:a.poster}),(0,u.jsxs)("div",{className:a.leftInfo,children:[(0,u.jsx)("span",{className:a.title,children:f.title}),(0,u.jsx)("span",{className:a.overview,children:"User score: ".concat(f.vote_average)}),(0,u.jsx)("span",{className:a.category,children:"Overview"}),(0,u.jsx)("p",{className:a.overview,children:f.overview}),(0,u.jsx)("span",{className:a.category,children:"Genres"}),(0,u.jsx)("ul",{className:a.genresList,children:_.map((function(e){return(0,u.jsx)("li",{children:e},e)}))})]})]}),(0,u.jsx)("p",{className:a.aditional,children:"Additional information"}),(0,u.jsxs)("ul",{className:a.aditionalul,children:[(0,u.jsx)("li",{children:(0,u.jsx)(s.rU,{className:a.aditionallink,to:"/movies/".concat(l,"/cast"),children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(s.rU,{className:a.aditionallink,to:"/movies/".concat(l,"/reviews"),children:"Reviews"})})]}),(0,u.jsx)("div",{className:a.linkInfo,children:(0,u.jsx)(c.j3,{})})]})]})}}}]);
//# sourceMappingURL=284.647aceb6.chunk.js.map