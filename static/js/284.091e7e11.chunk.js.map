{"version":3,"file":"static/js/284.091e7e11.chunk.js","mappings":"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","sources":["components/modules/Api/moviesApi.js","webpack://react-homework-template/./src/pages/MovieDetailsPage/moviesdetails.module.css?16f2","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst apiKey = 'cc6dd9af32d8d8ae276f4cac0bcc6f4a';\n\nexport async function trendingMovies () {\n   return await axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${apiKey}`).then(result => result.data.results);\n};\n\nexport async function getMoviesByName (filmName) {\n   return await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${filmName}&page=1&include_adult=false`).then(result => result.data.results);\n};\n\nexport async function getMovieInfo (filmid) {\n   return await axios.get(`https://api.themoviedb.org/3/movie/${filmid}?api_key=${apiKey}&language=en-US`).then(result => result.data);\n};\n\nexport function getImageUrl(imgName, imgSize) {\n   return `https://image.tmdb.org/t/p/w${imgSize}/${imgName}`;\n};\n\nexport async function getGenresList(genresIds) {\n   \n   const request = await axios.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=en-US`).then(res=> res.data.genres);\n\n   return request.reduce ((acc, element) => {\n      if (genresIds.includes(element.id)){ acc.push(element.name) }     \n      return acc;\n   }, []); \n};\n\nexport async function getMovieCast (filmid) {\n   return await axios.get(`https://api.themoviedb.org/3/movie/${filmid}/credits?api_key=${apiKey}&language=en-US`).then(result => result.data);\n};\n\nexport async function getMovieReviews (filmid) {\n   return await axios.get(`https://api.themoviedb.org/3/movie/${filmid}/reviews?api_key=${apiKey}&language=en-US&page=1`).then(result => result.data);\n};","// extracted by mini-css-extract-plugin\nexport default {\"movieCard\":\"moviesdetails_movieCard__QGcFR\",\"mainInfo\":\"moviesdetails_mainInfo__DaqaG\",\"leftInfo\":\"moviesdetails_leftInfo__WHLQU\",\"poster\":\"moviesdetails_poster__GfH43\",\"title\":\"moviesdetails_title__22FBQ\",\"category\":\"moviesdetails_category__mvHBN\",\"overview\":\"moviesdetails_overview__GqI2+\",\"genresList\":\"moviesdetails_genresList__pRql+\",\"aditional\":\"moviesdetails_aditional__CIQ0K\",\"aditionalul\":\"moviesdetails_aditionalul__c8OdW\",\"aditionallink\":\"moviesdetails_aditionallink__7FmJD\",\"movieBackButton\":\"moviesdetails_movieBackButton__GyLqR\"};","import s from \"./moviesdetails.module.css\";\nimport { getMovieInfo, getImageUrl, getGenresList } from \"..//..//components/modules/Api/moviesApi\";\nimport { Outlet, useParams, Link, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n\nconst MovieDetails = () => {\n\n    const location = useLocation();\n    const movieId = useParams().id;\n    const [ movie, setMovie ] = useState([]);\n    const [ genres, setGenres ] = useState([]);\n    const [ img, setImg] = useState('');  \n    const [ defaultBackLink, setdefaultBackLink] = useState('');\n\n    useEffect(()=>{\n        location.state && setdefaultBackLink(location.state.from);\n    },[location.state]);  \n\n    useEffect (()=>{\n        getMovieInfo(movieId).then(res => { \n            setMovie(res);\n            setImg(res.poster_path? \n                   getImageUrl(res.poster_path, 300):\"https://dummyimage.com/640x480/2a2a2a/ffffff&text=Product+image+placeholder\");\n            const genresIdList =  res.genres.map((elem)=>{ return elem.id });\n            getGenresList(genresIdList).then(res=>setGenres(res)).catch(() => alert('Some problems with API'));      \n        }).catch(() => alert('Some problems with API'));\n    },[movieId]);\n       \n    const backLink = location.state?.from ?? defaultBackLink;\n\n    return (\n        <>\n       \n        <div className={ s.movieCard }>\n            <div className={ s.mainInfo }>\n                <img src={ img } alt={ movie.title } className={ s.poster }/>\n                <div className={ s.leftInfo}>\n                    <span className={ s.title }>{ movie.title }</span>\n                    <span className={ s.overview }>{`User score: ${movie.vote_average}`}</span>\n                    <span className={ s.category }>Overview</span>\n                    <p className={ s.overview }>{ movie.overview }</p>\n                    <span className={ s.category }>Genres</span>\n                    \n                        <ul className={ s.genresList }>\n                        { genres.map((elem)=> <li key={ elem }>{ elem }</li> ) }\n                        </ul>\n                </div> \n            </div>\n                <p className={ s.aditional }>Additional information</p>\n                <ul className={ s.aditionalul }>\n                   <li ><Link className={s.aditionallink} to={`/movies/${movieId}/cast`}>Cast</Link></li>\n                   <li ><Link className={s.aditionallink} to={`/movies/${movieId}/reviews`} >Reviews</Link></li>\n                </ul>\n            <div className={ s.linkInfo }>\n                <Outlet/>\n            </div>\n            <Link to={ backLink } className={ s.movieBackButton }>{`<-`} Go Back</Link>\n        </div>\n        </>\n    )\n}\n\nexport default MovieDetails;\n"],"names":["apiKey","trendingMovies","axios","then","result","data","results","getMoviesByName","filmName","getMovieInfo","filmid","getImageUrl","imgName","imgSize","getGenresList","genresIds","res","genres","request","reduce","acc","element","includes","id","push","name","getMovieCast","getMovieReviews","location","useLocation","movieId","useParams","useState","movie","setMovie","setGenres","img","setImg","defaultBackLink","setdefaultBackLink","useEffect","state","from","poster_path","genresIdList","map","elem","catch","alert","backLink","className","s","src","alt","title","vote_average","overview","to"],"sourceRoot":""}